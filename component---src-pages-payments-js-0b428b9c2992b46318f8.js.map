{"version":3,"sources":["webpack:///./src/pages/payments.js"],"names":["CHECKOUT_ITEMS","PageTemplate","useState","submit","setSubmit","stripe","setStripe","useEffect","window","Stripe","betas","testStripe","redirectToCheckout","items","sku","quantity","successUrl","cancelUrl","then","result","error","document","getElementById","textContent","message","catch","e","alert","current","title","className","style","frame","paymentsFrame","pageTitle","submitPay","onClick"],"mappings":"2FAAA,6EAOMA,EACE,qBADFA,EAEE,qBAqIOC,UAlIM,WAAO,IAAD,EACGC,mBAAS,IAA9BC,EADkB,KACVC,EADU,OAEGF,qBAArBG,EAFkB,KAEVC,EAFU,KA+CzB,OA3CAC,qBAAU,WACWC,OAAOC,OAAO,mCAAoC,CACnEC,MAAO,CAAC,qBADV,IAIMC,EAAaH,OAAOC,OAAO,mCAAoC,CACnEC,MAAO,CAAC,qBAGVJ,EAAUK,KACT,IAEHJ,qBACE,WACMJ,GACFE,EACGO,mBAAmB,CAClBC,MAAO,CAAC,CAAEC,IAAKX,EAAOW,IAAKC,SAAU,IAMrCC,WAAY,gDACZC,UAAW,kDAEZC,MAAK,SAASC,GACTA,EAAOC,QAGUC,SAASC,eAAe,iBAC9BC,YAAcJ,EAAOC,MAAMI,SAE1CpB,GAAU,MAEXqB,OAAM,SAAAC,GACLC,MAAMD,QAId,CAACvB,IAID,kBAAC,IAAD,CAAQyB,QAAQ,aACd,kBAAC,IAAD,CAAKC,MAAM,aACX,yBAAKC,UAAWC,IAAMC,OACpB,yBAAKF,UAAWC,IAAME,eACpB,wBAAIH,UAAWC,IAAMG,WAArB,UACU,IACR,+BACE,uCAGJ,6BACA,6BACE,uDAC0B,0BAAMJ,UAAU,kBAAhB,KAA0C,IADpE,2BAGE,yBAAKA,UAAU,kBAAf,MAGF,uDAEE,6BAFF,kBAIE,6BAJF,iCAOA,6BACA,uDACA,6BACA,mEACA,4BACEA,UAAWC,IAAMI,UACjBC,QAAS,kBAAMhC,EAAU,CAAEU,IAAKd,MAFlC,uBAMA,6BAEA,6BACA,2BACE,0BAAM8B,UAAU,kBACd,yCACM,IAHV,qBAMA,4BACEA,UAAWC,IAAMI,UACjBC,QAAS,kBAAMhC,EAAU,CAAEU,IAAKd,MAFlC,oBAMA,6BACA,6BACA,6BACA,gCACE,0BAAM8B,UAAU,kBAAhB,MAEF,2BACE,+BACG,IADH,kFAGqB,MAGvB,6BACA,6BACA,gCACE,yBAAKA,UAAU,kBAAf,MAEF,2BACE,uEAEE,6BAFF","file":"component---src-pages-payments-js-0b428b9c2992b46318f8.js","sourcesContent":["import React, { useState, useEffect } from 'react'\r\n\r\nimport style from './payments.module.css'\r\n\r\nimport Layout from '../components/Layout'\r\nimport SEO from '../components/SEO'\r\n\r\nconst CHECKOUT_ITEMS = {\r\n  half: 'sku_EbbNcAGW78YUXY',\r\n  full: 'sku_Ebc7E9vpWYFxZV',\r\n}\r\n\r\nconst PageTemplate = () => {\r\n  const [submit, setSubmit] = useState('')\r\n  const [stripe, setStripe] = useState()\r\n\r\n  useEffect(() => {\r\n    const prodStripe = window.Stripe('pk_live_PBQQ1XC37eg0LXG6Ws28i6po', {\r\n      betas: ['checkout_beta_4'],\r\n    })\r\n\r\n    const testStripe = window.Stripe('pk_test_UI8KatjjVPUDJs4gnuuat3VZ', {\r\n      betas: ['checkout_beta_4'],\r\n    })\r\n\r\n    setStripe(testStripe)\r\n  }, [])\r\n\r\n  useEffect(\r\n    () => {\r\n      if (submit) {\r\n        stripe\r\n          .redirectToCheckout({\r\n            items: [{ sku: submit.sku, quantity: 1 }], // test sku\r\n            //items: [{ sku: \"sku_EbbApHjsnlwtNT\", quantity: 1 }],\r\n\r\n            // Note that it is not guaranteed your customers will be redirected to this\r\n            // URL *100%* of the time, it's possible that they could e.g. close the\r\n            // tab between form submission and the redirect.\r\n            successUrl: 'https://the-initiative-code.github.io/success',\r\n            cancelUrl: 'https://the-initiative-code.github.io/pricing',\r\n          })\r\n          .then(function(result) {\r\n            if (result.error) {\r\n              // If `redirectToCheckout` fails due to a browser or network\r\n              // error, display the localized error message to your customer.\r\n              var displayError = document.getElementById('error-message')\r\n              displayError.textContent = result.error.message\r\n            }\r\n            setSubmit(false)\r\n          })\r\n          .catch(e => {\r\n            alert(e)\r\n          })\r\n      }\r\n    },\r\n    [submit]\r\n  )\r\n\r\n  return (\r\n    <Layout current=\"/payments\">\r\n      <SEO title=\"payments\" />\r\n      <div className={style.frame}>\r\n        <div className={style.paymentsFrame}>\r\n          <h1 className={style.pageTitle}>\r\n            Payment{' '}\r\n            <small>\r\n              <i>(beta)</i>\r\n            </small>\r\n          </h1>\r\n          <br />\r\n          <div>\r\n            <h5>\r\n              So you've spoken with us<span className=\"text-highlight\">*</span>{' '}\r\n              and agreed upon a price.\r\n              <sup className=\"text-highlight\">#</sup>\r\n            </h5>\r\n\r\n            <p>\r\n              Brand Design Consultation\r\n              <br />\r\n              Website Hosting\r\n              <br />\r\n              Website Design + 2 Iterations\r\n            </p>\r\n            <br />\r\n            <h4>Please pick an option :</h4>\r\n            <br />\r\n            <p>50% upfront with 50% upon completion</p>\r\n            <button\r\n              className={style.submitPay}\r\n              onClick={() => setSubmit({ sku: CHECKOUT_ITEMS.half })}\r\n            >\r\n              Pay Upfront 150 USD\r\n            </button>\r\n            <br />\r\n\r\n            <br />\r\n            <p>\r\n              <span className=\"text-highlight\">\r\n                <strong>Full</strong>\r\n              </span>{' '}\r\n              amount of 300 USD\r\n            </p>\r\n            <button\r\n              className={style.submitPay}\r\n              onClick={() => setSubmit({ sku: CHECKOUT_ITEMS.full })}\r\n            >\r\n              Pay Full 300 USD\r\n            </button>\r\n            <br />\r\n            <br />\r\n            <br />\r\n            <strong>\r\n              <span className=\"text-highlight\">*</span>\r\n            </strong>\r\n            <i>\r\n              <small>\r\n                {' '}\r\n                Actually, if you haven't been in contact with us yet, please\r\n                speak to us first.{' '}\r\n              </small>\r\n            </i>\r\n            <br />\r\n            <br />\r\n            <strong>\r\n              <sup className=\"text-highlight\">#</sup>\r\n            </strong>\r\n            <i>\r\n              <small>\r\n                Of course, we are fans of free money,\r\n                <br /> but just we want to make sure you're knowingly doing so.\r\n                *wink\r\n              </small>\r\n            </i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default PageTemplate\r\n"],"sourceRoot":""}